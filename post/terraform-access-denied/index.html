<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>terraform-access-denied-access-denied | Karthikeyan Sundararajan</title>
    
    
    
    <meta name="description" content="Terraform Access Denied Access Denied">
    
    
    
    <meta property="og:title" content="terraform-access-denied-access-denied | Karthikeyan Sundararajan">
    <meta property="og:description" content="Terraform Access Denied Access Denied">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://karthikeayan.github.io/post/terraform-access-denied/">
    
    
    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="terraform-access-denied-access-denied | Karthikeyan Sundararajan">
    <meta name="twitter:description" content="Terraform Access Denied Access Denied">
    
    
    
    
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    
    
    
    <link rel="stylesheet" href="https://karthikeayan.github.io/css/main.min.f3239320356012e75e56b485acbe843df5e30ad1394d6abfc4a43aa4d51478f0.css">
    
    
    
    
    
</head>
<body>
    
    
    <div class="browser-chrome">
        <div class="toolbar">
            <span class="toolbar-button">Back</span>
            <span class="toolbar-button">Forward</span>
            <span class="toolbar-button">Refresh</span>
            <span class="toolbar-button">Home</span>
        </div>
        <div class="address-bar">
            
            https://karthikeayan.github.io/post/terraform-access-denied/
            
        </div>
    </div>
    
    
    <div class="container">
        
        <nav class="site-nav">
    <ul class="nav-menu">

        
        
            
            <li class="nav-item">
                <a href="https://karthikeayan.github.io/" class="nav-link">
                    Home
                </a>
            </li>
            
            <li class="nav-item">
                <a href="https://karthikeayan.github.io/posts/" class="nav-link">
                    Posts
                </a>
            </li>
            
            <li class="nav-item">
                <a href="https://karthikeayan.github.io/about/" class="nav-link">
                    About
                </a>
            </li>
            

            
            
            
            <li class="nav-item">
                <a href="https://karthikeayan.github.io/categories/" class="nav-link">üìÇ Categories</a>
            </li>
            

            
            
            <li class="nav-item">
                <a href="https://karthikeayan.github.io/tags/" class="nav-link">üè∑Ô∏è Tags</a>
            </li>
            

        

        
        
        <li class="nav-item">
            <a href="https://karthikeayan.github.io/index.xml" class="nav-link">üì° RSS</a>
        </li>
        
    </ul>
</nav>

        
        
        <header class="site-header">
            <div class="window">
                <div class="window-header">
                    <span class="window-title">Karthikeyan Sundararajan</span>
                    <div class="window-controls">
                        <span class="window-button">_</span>
                        <span class="window-button">‚ñ°</span>
                        <span class="window-button">√ó</span>
                    </div>
                </div>
                <div class="window-content">
                    <a href="https://karthikeayan.github.io/" class="site-title">Karthikeyan Sundararajan</a>
                    
                </div>
            </div>
        </header>
        
        
        <main class="main-content">
            
<article class="window">
    <div class="window-header">
        <span class="window-title">terraform-access-denied-access-denied</span>
        <div class="window-controls">
            <span class="window-button">_</span>
            <span class="window-button">‚ñ°</span>
            <span class="window-button">√ó</span>
        </div>
    </div>
    <div class="window-content">
        <header class="content-header">
            <h1 class="post-title">terraform-access-denied-access-denied</h1>
            
            
            <div class="post-meta">
                <span class="post-meta-item">
                    üìÖ Published: Thursday, January 21, 2021
                </span>
                
                <span class="post-meta-item">
                    üìñ 1 min read
                </span>
                <span class="post-meta-item">
                    üìä 197 words
                </span>
                
                
                
                
                
                
                <span class="post-meta-item">
                    üè∑Ô∏è Tags: 
                    
                        
                        <a href="/tags/aws">aws</a>
                    
                        , 
                        <a href="/tags/terraform">terraform</a>
                    
                        , 
                        <a href="/tags/s3">s3</a>
                    
                        , 
                        <a href="/tags/state">state</a>
                    
                </span>
                
                
                
            </div>
            
            
            
            <div class="post-description" style="font-style: italic; margin: 8px 0; padding: 4px 8px; background: var(--bg-secondary); border: 1px inset var(--border-dark);">
                Terraform Access Denied Access Denied
            </div>
            
            
            
        </header>
        
        
        
        
        
        <div class="content">
            <h1 id="terraform-access-denied-access-denied">Terraform Access Denied Access Denied</h1>
<p>You are working with Terraform, AWS and S3 for Remote State and suddenly you see a message</p>
<pre tabindex="0"><code>AccessDenied: Access Denied
</code></pre><p>Terraform doesn&rsquo;t give you lots of information, you are checking your IAM access, checking your Terraform provider and scratching your head what is going on.</p>
<p>This is what I did.</p>
<ul>
<li>I ran &ldquo;terraform apply&rdquo; with provider pointing to Account A.</li>
<li>Terraform created few resources in AWS and its corresponding state in S3 bucket.</li>
<li>I found, I ran &ldquo;terraform apply&rdquo; with the wrong provider.</li>
<li>I corrected the typo in the provider to point to Account B and I ran &ldquo;terraform apply&rdquo; again.</li>
<li>Now, I am running &ldquo;terraform apply&rdquo; with provider pointing to Account B.</li>
</ul>
<p>This is what happened.</p>
<pre tabindex="0"><code>AccessDenied: Access Denied
</code></pre><p>This is why it happened.
Terraform looks for the remote state file in the S3 bucket and the provider is pointing to Account A. But in my code provider is pointing to Account B.</p>
<p>This is how it can be fixed.</p>
<ul>
<li>Point the provider to Account A.</li>
<li>Run &ldquo;terraform destroy&rdquo; to completely destory everything which got created in Account A.</li>
<li>Now point provider to Account B.</li>
<li>Run &ldquo;terraform apply&rdquo;</li>
<li>Go to sleep</li>
</ul>

        </div>
        
        
        <footer class="post-footer" style="margin-top: 20px; padding-top: 12px; border-top: 1px solid var(--border-dark);">
            
            
            
            <div class="sharing" style="margin-bottom: 12px;">
                <div style="font-weight: bold; margin-bottom: 6px;">üì§ Share this post:</div>
                <div style="display: flex; gap: 4px; flex-wrap: wrap;">
                    <a href="https://twitter.com/intent/tweet?text=terraform-access-denied-access-denied&url=https%3a%2f%2fkarthikeayan.github.io%2fpost%2fterraform-access-denied%2f" 
                       target="_blank" class="btn" style="font-size: 10px;">Twitter</a>
                    <a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fkarthikeayan.github.io%2fpost%2fterraform-access-denied%2f" 
                       target="_blank" class="btn" style="font-size: 10px;">Facebook</a>
                    <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3a%2f%2fkarthikeayan.github.io%2fpost%2fterraform-access-denied%2f" 
                       target="_blank" class="btn" style="font-size: 10px;">LinkedIn</a>
                    <a href="mailto:?subject=terraform-access-denied-access-denied&body=https%3a%2f%2fkarthikeayan.github.io%2fpost%2fterraform-access-denied%2f" 
                       class="btn" style="font-size: 10px;">Email</a>
                </div>
            </div>
            
            
            
            
            
            
            
            
            <div class="related-posts" style="background: var(--bg-secondary); border: 1px inset var(--border-dark); padding: 8px; margin: 12px 0;">
                <div style="font-weight: bold; margin-bottom: 6px;">üîó Related Posts:</div>
                <ul style="padding-left: 1rem; margin: 0; font-size: 10px;">
                    
                    <li style="margin: 2px 0;">
                        <a href="https://karthikeayan.github.io/post/aws-firelens-overview/">aws-firelens-overview</a>
                        <span style="color: var(--text-secondary);"> - Jun 22</span>
                    </li>
                    
                </ul>
            </div>
            
            
            
            
        </footer>
    </div>
</article>


<nav class="post-nav" style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin: 8px 0;">
    
    <div class="window">
        <div class="window-header">
            <span class="window-title">‚Üê Previous Post</span>
            <div class="window-controls">
                <span class="window-button">_</span>
                <span class="window-button">‚ñ°</span>
                <span class="window-button">√ó</span>
            </div>
        </div>
        <div class="window-content">
            <a href="https://karthikeayan.github.io/post/aws-firelens-overview/" style="text-decoration: none; color: inherit;">
                <div style="font-weight: bold; font-size: 10px; margin-bottom: 2px;">aws-firelens-overview</div>
                <div style="font-size: 9px; color: var(--text-secondary);">Jun 22, 2020</div>
            </a>
        </div>
    </div>
    
    
    
    <div class="window">
        <div class="window-header">
            <span class="window-title">Next Post ‚Üí</span>
            <div class="window-controls">
                <span class="window-button">_</span>
                <span class="window-button">‚ñ°</span>
                <span class="window-button">√ó</span>
            </div>
        </div>
        <div class="window-content">
            <a href="https://karthikeayan.github.io/post/java-dynamic-heap-size/" style="text-decoration: none; color: inherit;">
                <div style="font-weight: bold; font-size: 10px; margin-bottom: 2px;">java-dynamic-heap-size</div>
                <div style="font-size: 9px; color: var(--text-secondary);">May 31, 2021</div>
            </a>
        </div>
    </div>
    
</nav>




        </main>
        
        
        
        <aside class="sidebar">
            








<div class="sidebar-section">
    <div class="sidebar-title">üè∑Ô∏è Popular Tags</div>
    <div class="tag-cloud">
        
        <a href="/tags/kubernetes">
            kubernetes (5)
        </a>
        
        <a href="/tags/aws">
            aws (3)
        </a>
        
        <a href="/tags/cli">
            cli (2)
        </a>
        
        <a href="/tags/ad">
            ad (1)
        </a>
        
        <a href="/tags/ai">
            ai (1)
        </a>
        
        <a href="/tags/alternate">
            alternate (1)
        </a>
        
        <a href="/tags/api-resources">
            api-resources (1)
        </a>
        
        <a href="/tags/aws-cur">
            aws-cur (1)
        </a>
        
        <a href="/tags/azure">
            azure (1)
        </a>
        
        <a href="/tags/bash">
            bash (1)
        </a>
        
        <a href="/tags/blogs">
            blogs (1)
        </a>
        
        <a href="/tags/budget">
            budget (1)
        </a>
        
        <a href="/tags/cheatsheet">
            cheatsheet (1)
        </a>
        
        <a href="/tags/cost">
            cost (1)
        </a>
        
        <a href="/tags/csv">
            csv (1)
        </a>
        
    </div>
</div>




<div class="sidebar-section">
    <div class="sidebar-title">üìÖ Archives</div>
    <ul>
        
        <li>
            <a href="/posts/2025-05/">
                2025-05 (1)
            </a>
        </li>
        
        <li>
            <a href="/posts/2025-03/">
                2025-03 (1)
            </a>
        </li>
        
        <li>
            <a href="/posts/2023-07/">
                2023-07 (2)
            </a>
        </li>
        
        <li>
            <a href="/posts/2023-05/">
                2023-05 (1)
            </a>
        </li>
        
        <li>
            <a href="/posts/2022-02/">
                2022-02 (2)
            </a>
        </li>
        
        <li>
            <a href="/posts/2021-12/">
                2021-12 (2)
            </a>
        </li>
        
        <li>
            <a href="/posts/2021-11/">
                2021-11 (1)
            </a>
        </li>
        
        <li>
            <a href="/posts/2021-10/">
                2021-10 (1)
            </a>
        </li>
        
        <li>
            <a href="/posts/2021-05/">
                2021-05 (1)
            </a>
        </li>
        
        <li>
            <a href="/posts/2021-01/">
                2021-01 (1)
            </a>
        </li>
        
        <li>
            <a href="/posts/2020-06/">
                2020-06 (1)
            </a>
        </li>
        
        <li>
            <a href="/posts/0001-01/">
                0001-01 (1)
            </a>
        </li>
        
    </ul>
</div>







<div class="sidebar-section">
    <div class="sidebar-title">üåê Connect</div>
    <ul>
        
        <li><a href="https://twitter.com/karthikeayan" target="_blank">üê¶ Twitter</a></li>
        
        
        <li><a href="https://github.com/https://github.com/karthikeayan" target="_blank">üê± GitHub</a></li>
        
        
        <li><a href="https://linkedin.com/in/https://www.linkedin.com/in/karthikeyan-sundararajan/" target="_blank">üíº LinkedIn</a></li>
        
        
        <li><a href="mailto:karthikeayan@live.com">üìß Email</a></li>
        
        
        
        
    </ul>
</div>




<div class="sidebar-section">
    <div class="sidebar-title">‚ÑπÔ∏è Info</div>
    <div style="font-size: 10px; line-height: 1.3;">
        Welcome to our retro corner of the internet!
    </div>
</div>




<div class="sidebar-section">
    <div class="sidebar-title">üìä Site Stats</div>
    <div style="font-size: 10px;">
        <div>Total Posts: 0</div>
        <div>Total Pages: 15</div>
        <div>Categories: 0</div>
        <div>Tags: 61</div>
        <div>Last Updated: May 16, 2025</div>
    </div>
</div>




<div class="sidebar-section">
    <div class="sidebar-title">‚ú® Retro Corner</div>
    <div style="text-align: center; font-size: 9px;">
        <div style="background: #000; color: #00ff00; padding: 2px; font-family: 'Courier New', monospace; margin: 4px 0;">
            > SYSTEM ONLINE
        </div>
        <div class="blink" style="color: var(--text-link);">
            üåü NEW! üåü
        </div>
        <div style="margin: 4px 0;">
            Best viewed in 1024x768
        </div>
        <div>
            Powered by Hugo 0.123.7
        </div>
    </div>
</div>


        </aside>
        
        
        
        <footer class="site-footer">
    <div class="window">
        <div class="window-header">
            <span class="window-title">üíª Site Information</span>
            <div class="window-controls">
                <span class="window-button">_</span>
                <span class="window-button">‚ñ°</span>
                <span class="window-button">√ó</span>
            </div>
        </div>
        <div class="window-content">
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 12px; font-size: 10px;">
                
                
                <div>
                    <div style="font-weight: bold; margin-bottom: 4px;">üìã Site Info</div>
                    <div>¬© 2025 Karthikeyan Sundararajan</div>
                    
                    <div>Created by Karthikeyan Sundara Rajan</div>
                    
                    <div>Powered by <a href="https://gohugo.io" target="_blank">Hugo</a></div>
                    <div>Theme: <a href="https://github.com/vibecodemama/vintage-web-hugo-theme" target="_blank">Vintage Web</a></div>
                </div>
                
                
                <div>
                    <div style="font-weight: bold; margin-bottom: 4px;">üîó Quick Links</div>
                    <div><a href="https://karthikeayan.github.io/">üè† Home</a></div>
                    
                    
                    <div><a href="/categories/">üìÇ Categories</a></div>
                    <div><a href="/tags/">üè∑Ô∏è Tags</a></div>
                    
                    <div><a href="/index.xml">üì° RSS Feed</a></div>
                    
                </div>
                
                
                
                <div>
                    <div style="font-weight: bold; margin-bottom: 4px;">üåê Connect</div>
                    
                    <div><a href="mailto:karthikeayan@live.com">üìß Email</a></div>
                    
                    
                    <div><a href="https://twitter.com/karthikeayan" target="_blank">üê¶ Twitter</a></div>
                    
                    
                    <div><a href="https://github.com/https://github.com/karthikeayan" target="_blank">üê± GitHub</a></div>
                    
                    
                    <div><a href="https://linkedin.com/in/https://www.linkedin.com/in/karthikeyan-sundararajan/" target="_blank">üíº LinkedIn</a></div>
                    
                </div>
                
                
                
                <div>
                    <div style="font-weight: bold; margin-bottom: 4px;">üìä Statistics</div>
                    <div>Posts: 0</div>
                    <div>Categories: 0</div>
                    <div>Tags: 61</div>
                    <div>Last Update: May 16, 2025</div>
                </div>
            </div>
            
            
            
            <div style="margin-top: 12px; padding-top: 8px; border-top: 1px solid var(--border-dark); text-align: center;">
                <div style="font-size: 9px; margin-bottom: 4px;">
                    <span class="blink">‚≠ê</span> 
                    This site is Y2K compliant! 
                    <span class="blink">‚≠ê</span>
                </div>
                <div style="font-size: 8px; color: var(--text-secondary);">
                    Best viewed in Any modern browser
                    ‚Ä¢ Screen resolution: 1024x768 or higher
                </div>
                <div style="font-size: 8px; margin-top: 4px;">
                    Visitor counter: 
                    <span style="background: #000; color: #00ff00; padding: 1px 3px; font-family: 'Courier New', monospace;">
                        999999
                    </span>
                </div>
            </div>
            
            
            
            
            
            
            
        </div>
    </div>
</footer>

    </div>
    
    
    
    <div class="status-bar">
        <div class="status-left">
            <span class="status-item">Sat 26 Jul 2025</span>
            <span class="status-item">16:51</span>
        </div>
        <div class="status-right">
            <span class="status-item">Karthikeyan Sundararajan</span>
            
            <span class="status-item">197 words</span>
            
        </div>
    </div>
    
    
    
    
    
    
    <script src="https://karthikeayan.github.io/js/main.min.31530ca7626eaa26864855cd725b9ff139b89f64769abfe234c890102381f252.js"></script>
    
    
    
    
    
    
    
    
    
</body>
</html>
